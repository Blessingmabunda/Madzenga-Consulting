{"ast":null,"code":"import _objectSpread from\"/Users/softidoc/Documents/MyProjects/Company profile/webiste/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Swal from\"sweetalert2\";// SweetAlert2 for notifications\nimport ClipLoader from\"react-spinners/ClipLoader\";// Loading spinner\nimport apiService from\"../../api/auth/auth\";// API service for registration\nimport\"./../../css/signup.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const navigate=useNavigate();// Navigation function\nconst[values,setValues]=useState({username:\"\",name:\"\",phoneNumber:\"\",email:\"\",password:\"\",profilePicture:null});const[submitted,setSubmitted]=useState(false);const[loading,setLoading]=useState(false);// Loading state\nconst handleInputChange=event=>{event.preventDefault();const{name,value,type,files}=event.target;if(type===\"file\"){const reader=new FileReader();reader.onloadend=()=>{setValues(prevValues=>_objectSpread(_objectSpread({},prevValues),{},{profilePicture:reader.result}));};if(files[0]){reader.readAsDataURL(files[0]);}}else{setValues(prevValues=>_objectSpread(_objectSpread({},prevValues),{},{[name]:value}));}};const handleSubmit=async e=>{e.preventDefault();setSubmitted(true);if(values.username&&values.name&&values.email&&values.password&&values.profilePicture){setLoading(true);// Set loading to true\ntry{const payload={id:\"\",username:values.username,name:values.name,phoneNumber:values.phoneNumber,email:values.email,password:values.password,profilePicture:values.profilePicture};const response=await apiService.registerUser(payload);if(response&&response.id){setLoading(false);// Stop loading\nSwal.fire({icon:\"success\",title:\"Registration Successful\",text:\"Welcome, \".concat(values.name,\"! Your account has been created.\"),confirmButtonText:\"OK\"}).then(()=>navigate(\"/Login\"));}}catch(error){setLoading(false);// Stop loading\nSwal.fire({icon:\"error\",title:\"Registration Failed\",text:\"There was an error registering your account. Please try again.\"});console.error(\"Registration Error:\",error);}}else{Swal.fire({icon:\"warning\",title:\"Incomplete Form\",text:\"Please fill out all the required fields.\"});}};return/*#__PURE__*/_jsx(\"div\",{className:\"signup-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:loading?/*#__PURE__*/// Show spinner while loading\n_jsxs(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/_jsx(ClipLoader,{color:\"#007BFF\",size:60}),\" \",/*#__PURE__*/_jsx(\"p\",{children:\"Submitting your information...\"})]}):/*#__PURE__*/_jsxs(\"form\",{className:\"register-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Account\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-field\",type:\"text\",placeholder:\"Username\",name:\"username\",value:values.username,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{className:\"form-field\",type:\"text\",placeholder:\"Full Name\",name:\"name\",value:values.name,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{className:\"form-field\",type:\"email\",placeholder:\"Email\",name:\"email\",value:values.email,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{className:\"form-field\",type:\"text\",placeholder:\"Phone Number\",name:\"phoneNumber\",value:values.phoneNumber,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{className:\"form-field\",type:\"password\",placeholder:\"Password\",name:\"password\",value:values.password,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{className:\"form-field\",type:\"file\",placeholder:\"Profile Picture\",name:\"profilePicture\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{className:\"form-field\",type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsx(\"div\",{className:\"already-registered\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/Login\",children:\"Login here\"})]})})]})})});}","map":{"version":3,"names":["React","useState","useNavigate","Swal","ClipLoader","apiService","jsx","_jsx","jsxs","_jsxs","App","navigate","values","setValues","username","name","phoneNumber","email","password","profilePicture","submitted","setSubmitted","loading","setLoading","handleInputChange","event","preventDefault","value","type","files","target","reader","FileReader","onloadend","prevValues","_objectSpread","result","readAsDataURL","handleSubmit","e","payload","id","response","registerUser","fire","icon","title","text","concat","confirmButtonText","then","error","console","className","children","color","size","onSubmit","placeholder","onChange","href"],"sources":["/Users/softidoc/Documents/MyProjects/Company profile/webiste/src/pages/public/signup.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Swal from \"sweetalert2\"; // SweetAlert2 for notifications\nimport ClipLoader from \"react-spinners/ClipLoader\"; // Loading spinner\nimport apiService from \"../../api/auth/auth\"; // API service for registration\nimport \"./../../css/signup.css\";\n\nexport default function App() {\n  const navigate = useNavigate(); // Navigation function\n  const [values, setValues] = useState({\n    username: \"\",\n    name: \"\",\n    phoneNumber: \"\",\n    email: \"\",\n    password: \"\",\n    profilePicture: null,\n  });\n\n  const [submitted, setSubmitted] = useState(false);\n  const [loading, setLoading] = useState(false); // Loading state\n\n  const handleInputChange = (event) => {\n    event.preventDefault();\n    const { name, value, type, files } = event.target;\n\n    if (type === \"file\") {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setValues((prevValues) => ({\n          ...prevValues,\n          profilePicture: reader.result,\n        }));\n      };\n      if (files[0]) {\n        reader.readAsDataURL(files[0]);\n      }\n    } else {\n      setValues((prevValues) => ({\n        ...prevValues,\n        [name]: value,\n      }));\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSubmitted(true);\n\n    if (values.username && values.name && values.email && values.password && values.profilePicture) {\n      setLoading(true); // Set loading to true\n      try {\n        const payload = {\n          id: \"\",\n          username: values.username,\n          name: values.name,\n          phoneNumber: values.phoneNumber,\n          email: values.email,\n          password: values.password,\n          profilePicture: values.profilePicture,\n        };\n\n        const response = await apiService.registerUser(payload);\n\n        if (response && response.id) {\n          setLoading(false); // Stop loading\n          Swal.fire({\n            icon: \"success\",\n            title: \"Registration Successful\",\n            text: `Welcome, ${values.name}! Your account has been created.`,\n            confirmButtonText: \"OK\",\n          }).then(() => navigate(\"/Login\"));\n        }\n      } catch (error) {\n        setLoading(false); // Stop loading\n        Swal.fire({\n          icon: \"error\",\n          title: \"Registration Failed\",\n          text: \"There was an error registering your account. Please try again.\",\n        });\n        console.error(\"Registration Error:\", error);\n      }\n    } else {\n      Swal.fire({\n        icon: \"warning\",\n        title: \"Incomplete Form\",\n        text: \"Please fill out all the required fields.\",\n      });\n    }\n  };\n\n  return (\n    <div className=\"signup-page\">\n      <div className=\"form-container\">\n        {loading ? ( // Show spinner while loading\n          <div className=\"loading-spinner\">\n            <ClipLoader color=\"#007BFF\" size={60} /> {/* Blue spinner */}\n            <p>Submitting your information...</p>\n          </div>\n        ) : (\n          <form className=\"register-form\" onSubmit={handleSubmit}>\n            <h2>Create Account</h2>\n\n            <input\n              className=\"form-field\"\n              type=\"text\"\n              placeholder=\"Username\"\n              name=\"username\"\n              value={values.username}\n              onChange={handleInputChange}\n            />\n\n            <input\n              className=\"form-field\"\n              type=\"text\"\n              placeholder=\"Full Name\"\n              name=\"name\"\n              value={values.name}\n              onChange={handleInputChange}\n            />\n\n            <input\n              className=\"form-field\"\n              type=\"email\"\n              placeholder=\"Email\"\n              name=\"email\"\n              value={values.email}\n              onChange={handleInputChange}\n            />\n\n            <input\n              className=\"form-field\"\n              type=\"text\"\n              placeholder=\"Phone Number\"\n              name=\"phoneNumber\"\n              value={values.phoneNumber}\n              onChange={handleInputChange}\n            />\n\n            <input\n              className=\"form-field\"\n              type=\"password\"\n              placeholder=\"Password\"\n              name=\"password\"\n              value={values.password}\n              onChange={handleInputChange}\n            />\n\n            <input\n              className=\"form-field\"\n              type=\"file\"\n              placeholder=\"Profile Picture\"\n              name=\"profilePicture\"\n              onChange={handleInputChange}\n            />\n\n            <button className=\"form-field\" type=\"submit\">\n              Register\n            </button>\n\n            <div className=\"already-registered\">\n              <span>Already have an account? <a href=\"/Login\">Login here</a></span>\n            </div>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}